#№ Отчет по лабораторной работе №2
## по курсу "Логическое программирование"

## Решение логических задач

### студент: Дубровин Д.К.

## Результат проверки

| Преподаватель     | Дата         |  Оценка       |
|-------------------|--------------|---------------|
| Сошников Д.В. |              |               |
| Левинская М.А.|              |               |

## Введение

В настоящий момент существует множество способов решения логических задач, для примера можно привести метод ветвей и границ, метод кругов Эйлера, метод графов и другие.\
Prolog позволяет программисту не отвлекаться на такие вещи, как способы хранения данных, с помощью чего стоит решать конкретно эту задачу (деревья, дек, массивы и т.д). Сохраненные время и силы разработкчик может направить непросредственно на решение задачи: задать факты, обозначить связи и формулировки запросов. 

## Задание

**8 вариант**\
Борисов, Кириллов, Данин и Савин  инженеры. Один из них  автомеханик, другой  химик, третий  строитель, четвертый  радиотехник. Борисов, который обыгрывает в шахматы Данина, но проигрывает Савину, бегает на лыжах лучше того инженера, который моложе его, и ходит в театр чаще, чем тот инженер, который старше Кириллова. Химик, который посещает театр чаще, чем автомеханик, но реже, чем строитель, не является ни самым молодым, ни самым старшим из этой четверки. Строитель, который на лыжах бегает хуже, чем радиотехник, как правило, проигрывает в шахматных сражениях автомеханику. Самый пожилой из инженеров лучше всех играет в шахматы и чаще всех бывает в театре, а самый молодой лучше всех ходит на лыжах. Назовите профессии каждого из инженеров, если известно, что ни в спорте, ни в приверженности к театру среди нет двух одинаковых. 

## Принцип решения

Обозначение профессий из условия задачи
```
prof('mechanic').
prof('chemist').
prof('builder').
prof('radioman').
```
Описываю логические предикаты: кто лучше в шахматах, кто в лыжах и так далее.
```
best_chess(Win, Lose).
```
- лучший шахматист - это 1, а не 2. И так же для остальных:

```
better_ski(Better, Worse).
younger(Young, Old).
more_theatre(More, Less).

```

Далее идет блок непосредственного решения, в который подается список фамилий из условия:
```
solve([Borisov, Kirillov, Danin, Savin]):-
```

Устанавливаю соответствия между фамилиями из списка предикатами профессий. А оператор @< - позволяет более общее сравнение, нежели просто <. 
```
prof(P1),
Borisov = prof(P1),
    
prof(P2),
P2 @< P1,
Kirillov = prof(P2),

prof(P3),
P3 @< P1, P3 @< P2,
Danin = prof(P3),

prof(P4),
P4 @< P3, P4 @< P2, P4 @< P1,
Savin = prof(P4),
```

Блок описывающий, кто и кого в чем лучше исходя из условий задачи. 
```
best_chess(Borisov, Danin),
best_chess(Savin, Borisov),
better_ski(Borisov, X),
younger(X, Borisov),
more_theatre(Borisov, Y),
younger(Kirillov, Y),
more_theatre(prof('chemist'), prof('mechanic')),
more_theatre(prof('builder'), prof('chemist')),
younger(prof('chemist'), _), younger(_, prof('chemist')),
better_ski(prof('radioman'), prof('builder')),
best_chess(prof('mechanic'), prof('builder')),
best_chess(younger(_, (prof('chemist'); prof('mechanic'); prof('builder'); prof('radioman'))), _),
more_theatre(younger(_, prof('chemist'); prof('mechanic'); prof('builder'); prof('radioman')), _),
better_ski(younger(prof('chemist'); prof('mechanic'); prof('builder'); prof('radioman'), _), _).
```
Решение данной задачи логически:

Так как известно, что самый пожилой из инженеров лучше всех играет в шахматы, а также что Данин и Борисов играют в шахматы хуже, чем Савин. Следовательно, самый пожилой инженер — не Данин и не Борисов, и так как Кириллов — не самый пожилой, то фамилия самого пожилого инженера — Савин.

Савин — не химик, так как химик - не самый пожилой. Поскольку строитель проигрывает в шахматы автомеханику, ясно, что строитель — не Савин (Савин — сильнейший шахматист), а так как автомеханик вдвое реже посещает театр, чем химик, станет ясно, что Савин и не автомеханик (Савин — самый театральный из всей четверки). Следовательно, Савин — радиотехник. Перейдем к определению профессии самого молодого из инженеров. Из условия следует, что он — не химик. Кроме того, он — не строитель, так как строитель уступает в искусстве ходьбы на лыжах радиотехнику. А по условию самый молодой инженер — лучший лыжник. Остается единственно возможный вариант: самый молодой из инженеров — автомеханик.

Попробуем теперь выяснить его фамилию. Из первого условия следует, что Борисов — не самый молодой. Значит, автомеханик — не Борисов. Далее проанализируем фразу: «Борисов ходит в театр вдвое чаще, чем тот инженер, который старше Кириллова». Поскольку известно, что самый страстный театрал — Савин, то можно сделать вывод, что фамилия того инженера, который старше Кириллова,— Данин. Он тоже не может быть автомехаником, так как не является самым младшим. Остается одна возможность: автомеханик — Кириллов.

Далее, из сопоставления двух утверждений: «Борисов ходит в театр вдвое чаще, чем Дании» и «Химик посещает театр вдвое чаще, чем Кириллов (автомеханик)», следует, что химиком может быть только Данин. (Предположение, что химик — Борисов, приведет нас к тому, что Данин и Кириллов одинаково часто ходят в театр. А это противоречит условию.) Итак, Данин — химик. Следовательно, Борисов — строитель.

Решения совпали, чтд.

Программа выводит одно единственное решение, а также хочется заметить, что отсутствуют "зацикливания". Решение верно и безопастно.

Сложность алгоритма: n - исходя из количества данных списка и условий.

## Выводы

В процессе выполнения данной работы я разобрался в написании предикатов в Prolog, а также в анализе поставленной задачи. Именно с помощью Prolog можно относительно быстро и не особо напрягая голову решить подобные логические задачи, просто "рассказав" Prolog все условия задачи. Это очень подкупает в выборе языка для решения. Однако для больших данных такой формат решения врядли подойдет, тут все же легче написать программу для решения, а не просто перечислить факты, как это сделал я в данной лабораторной.
